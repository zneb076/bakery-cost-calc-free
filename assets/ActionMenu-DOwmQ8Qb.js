import{r as b,c as w,w as k,a as n,o as d,b as e,t as c,j as p,v as m,i as f,m as S,d as y,y as _,f as g,l as V,G as $}from"./index-XM_L99Nl.js";import{s as C}from"./default.css_vue_type_style_index_0_src_true_lang-CR6vzaxX.js";import{S as N}from"./sweetalert2.esm.all-BdfwKlh3.js";const O={class:"p-6 dark:bg-gray-600"},R={class:"mb-4 text-xl font-semibold"},h={class:"space-y-4"},j={class:"flex items-center justify-between"},D={key:0,class:"ml-2 rounded-full bg-secondary px-2 py-0.5 text-xs text-white"},I={class:"grid grid-cols-2 gap-4"},M={class:"flex justify-end space-x-3 bg-gray-50 px-6 py-3 dark:bg-gray-600"},q={__name:"ProductForm",props:{initialData:{type:Object,default:()=>({name:"",recipeId:null,weight:null,price:null})},availableRecipes:{type:Array,required:!0}},emits:["save","cancel"],setup(v,{emit:o}){const i=v,a=o,l=b({}),u=w(()=>i.availableRecipes.map(r=>({value:r.id,label:r.name,isSubRecipe:r.isSubRecipe})));k(()=>i.initialData,r=>{l.value=JSON.parse(JSON.stringify(r))},{immediate:!0,deep:!0});function x(){if(!l.value.name||!l.value.recipeId||!l.value.weight||!l.value.price){N.fire("ข้อมูลไม่ครบถ้วน","กรุณากรอกข้อมูลสินค้าให้ครบทุกช่อง","error");return}a("save",l.value)}return(r,t)=>(d(),n("form",{onSubmit:g(x,["prevent"])},[e("div",O,[e("h3",R,c(l.value.id?"แก้ไขรายการขนม":"เพิ่มรายการขนมใหม่จากสูตรนี้"),1),e("div",h,[e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium"},"ชื่อขนม",-1)),p(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.value.name=s),type:"text",class:"mt-1 w-full rounded-md border p-2 dark:text-gray-600"},null,512),[[m,l.value.name]])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium"},"มาจากสูตร",-1)),f(_(C),{modelValue:l.value.recipeId,"onUpdate:modelValue":t[1]||(t[1]=s=>l.value.recipeId=s),options:u.value,placeholder:"เลือกสูตรตั้งต้น",class:"mt-1 dark:text-gray-600"},{option:S(({option:s})=>[e("div",j,[e("span",null,c(s.label),1),s.isSubRecipe?(d(),n("span",D," สูตรย่อย ")):y("",!0)])]),_:1},8,["modelValue","options"])]),e("div",I,[e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium"},"น้ำหนักต่อชิ้น (กรัม)",-1)),p(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>l.value.weight=s),type:"number",class:"mt-1 w-full rounded-md border p-2 dark:text-gray-600"},null,512),[[m,l.value.weight,void 0,{number:!0}]])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium"},"ราคาขาย (บาท)",-1)),p(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>l.value.price=s),type:"number",class:"mt-1 w-full rounded-md border p-2 dark:text-gray-600"},null,512),[[m,l.value.price,void 0,{number:!0}]])])])])]),e("div",M,[e("button",{type:"button",onClick:t[4]||(t[4]=s=>a("cancel")),class:"rounded-md border bg-white px-4 py-2 dark:text-gray-600"}," ยกเลิก "),t[9]||(t[9]=e("button",{type:"submit",class:"dark:bg-primary-dark rounded-md bg-primary px-4 py-2 text-white dark:text-gray-600"}," บันทึก ",-1))])],32))}},U={class:"relative"},z={__name:"ActionMenu",setup(v){const o=b(!1);return(i,a)=>{const l=V("font-awesome-icon");return d(),n("div",U,[e("button",{onClick:a[0]||(a[0]=g(u=>o.value=!o.value,["stop"])),class:"rounded-full p-2 hover:bg-gray-200"},[f(l,{icon:"ellipsis-vertical"})]),o.value?(d(),n("div",{key:0,class:"absolute right-0 z-40 mt-2 w-[200px] rounded-md bg-white shadow-lg",onMouseleave:a[1]||(a[1]=u=>o.value=!1)},[$(i.$slots,"default")],32)):y("",!0)])}}};export{z as _,q as a};
