import{r as i,g as m,a as b,b as t,j as l,v as n,o as p}from"./index-DlnchygC.js";import{d as a,S as d}from"./sweetalert2.esm.all-BdfwKlh3.js";const v={class:"rounded-lg bg-white p-6 shadow-md"},f={class:"space-y-4"},g={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},k={__name:"SettingsGeneralView",setup(c){const o=i({laborCostPerHour:50,workHours:4,overheadPercent:30,defaultProfitMargin:50});m(async()=>{(await a.settings.toArray()).forEach(e=>{o.value.hasOwnProperty(e.key)&&(o.value[e.key]=e.value)})});async function u(){try{const s=Object.entries(o.value).map(([e,r])=>({key:e,value:typeof r=="number"?r:String(r)}));await a.settings.bulkPut(s),d.fire({toast:!0,position:"top-end",icon:"success",title:"บันทึกการตั้งค่าแล้ว",showConfirmButton:!1,timer:1e3})}catch(s){console.error("Failed to save settings:",s),d.fire("เกิดข้อผิดพลาด","ไม่สามารถบันทึกการตั้งค่าได้","error")}}return(s,e)=>(p(),b("div",v,[e[8]||(e[8]=t("h2",{class:"mb-4 text-2xl font-semibold"},"ตั้งค่าทั่วไป",-1)),t("div",f,[t("div",g,[t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium"},"ค่าแรง/ชม. (ค่าเริ่มต้น) (Basic mode)",-1)),l(t("input",{type:"number","onUpdate:modelValue":e[0]||(e[0]=r=>o.value.laborCostPerHour=r),class:"mt-1 w-full rounded-md border p-2"},null,512),[[n,o.value.laborCostPerHour,void 0,{number:!0}]])]),t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium"},"ชั่วโมงที่ทำ (ค่าเริ่มต้น) (Basic mode)",-1)),l(t("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=r=>o.value.workHours=r),class:"mt-1 w-full rounded-md border p-2"},null,512),[[n,o.value.workHours,void 0,{number:!0}]])]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium"},"% ทุนแฝง (ค่าเริ่มต้น) (Basic mode)",-1)),l(t("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=r=>o.value.overheadPercent=r),class:"mt-1 w-full rounded-md border p-2"},null,512),[[n,o.value.overheadPercent,void 0,{number:!0}]])]),t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium"},"% กำไรที่ต้องการ (Basic mode)",-1)),l(t("input",{type:"number","onUpdate:modelValue":e[3]||(e[3]=r=>o.value.defaultProfitMargin=r),class:"mt-1 w-full rounded-md border p-2"},null,512),[[n,o.value.defaultProfitMargin,void 0,{number:!0}]])])]),t("div",{class:"mt-4 border-t pt-4 text-right"},[t("button",{onClick:u,class:"rounded-lg bg-primary px-4 py-2 font-bold text-white"}," บันทึกการตั้งค่า ")])])]))}};export{k as default};
