import{r as i,g as m,a as b,b as t,j as l,v as a,o as p}from"./index-CtNKjYHo.js";import{d,S as n}from"./sweetalert2.esm.all-BdfwKlh3.js";const v={class:"rounded-lg bg-white p-6 shadow-md dark:bg-gray-700"},g={class:"space-y-4"},f={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},w={__name:"SettingsGeneralView",setup(y){const r=i({laborCostPerHour:50,workHours:4,overheadPercent:30,defaultProfitMargin:50});m(async()=>{(await d.settings.toArray()).forEach(e=>{r.value.hasOwnProperty(e.key)&&(r.value[e.key]=e.value)})});async function u(){try{const s=Object.entries(r.value).map(([e,o])=>({key:e,value:typeof o=="number"?o:String(o)}));await d.settings.bulkPut(s),n.fire({toast:!0,position:"top-end",icon:"success",title:"บันทึกการตั้งค่าแล้ว",showConfirmButton:!1,timer:1e3})}catch(s){console.error("Failed to save settings:",s),n.fire("เกิดข้อผิดพลาด","ไม่สามารถบันทึกการตั้งค่าได้","error")}}return(s,e)=>(p(),b("div",v,[e[8]||(e[8]=t("h2",{class:"mb-4 text-2xl font-semibold"},"ตั้งค่าทั่วไป",-1)),t("div",g,[t("div",f,[t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium"},"ค่าแรง/ชม. (ค่าเริ่มต้น) (Basic mode)",-1)),l(t("input",{type:"number","onUpdate:modelValue":e[0]||(e[0]=o=>r.value.laborCostPerHour=o),class:"mt-1 w-full rounded-md border p-2 dark:text-gray-600"},null,512),[[a,r.value.laborCostPerHour,void 0,{number:!0}]])]),t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium"},"ชั่วโมงที่ทำ (ค่าเริ่มต้น) (Basic mode)",-1)),l(t("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=o=>r.value.workHours=o),class:"mt-1 w-full rounded-md border p-2 dark:text-gray-600"},null,512),[[a,r.value.workHours,void 0,{number:!0}]])]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium"},"% ทุนแฝง (ค่าเริ่มต้น) (Basic mode)",-1)),l(t("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=o=>r.value.overheadPercent=o),class:"mt-1 w-full rounded-md border p-2 dark:text-gray-600"},null,512),[[a,r.value.overheadPercent,void 0,{number:!0}]])]),t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium"},"% กำไรที่ต้องการ (Basic mode)",-1)),l(t("input",{type:"number","onUpdate:modelValue":e[3]||(e[3]=o=>r.value.defaultProfitMargin=o),class:"mt-1 w-full rounded-md border p-2 dark:text-gray-600"},null,512),[[a,r.value.defaultProfitMargin,void 0,{number:!0}]])])]),t("div",{class:"mt-4 border-t pt-4 text-right"},[t("button",{onClick:u,class:"dark:bg-primary-dark rounded-lg bg-primary px-4 py-2 text-white dark:text-gray-600"}," บันทึกการตั้งค่า ")])])]))}};export{w as default};
