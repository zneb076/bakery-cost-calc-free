import{r as b,c as y,w as x,a as p,o as m,b as t,t as k,j as d,v as u,i as c,y as w,f,l as V,d as S,G as _}from"./index-fCIGyhJI.js";import{s as $}from"./default.css_vue_type_style_index_0_src_true_lang-D13Hu2ZF.js";import{S as N}from"./sweetalert2.esm.all-BdfwKlh3.js";const O={class:"p-6 dark:bg-gray-600"},C={class:"mb-4 text-xl font-semibold"},D={class:"space-y-4"},I={class:"grid grid-cols-2 gap-4"},M={class:"flex justify-end space-x-3 bg-gray-50 px-6 py-3 dark:bg-gray-600"},J={__name:"ProductForm",props:{initialData:{type:Object,default:()=>({name:"",recipeId:null,weight:null,price:null})},availableRecipes:{type:Array,required:!0}},emits:["save","cancel"],setup(v,{emit:o}){const n=v,s=o,l=b({}),i=y(()=>n.availableRecipes.map(r=>({value:r.id,label:r.name})));x(()=>n.initialData,r=>{l.value=JSON.parse(JSON.stringify(r))},{immediate:!0,deep:!0});function g(){if(!l.value.name||!l.value.recipeId||!l.value.weight||!l.value.price){N.fire("ข้อมูลไม่ครบถ้วน","กรุณากรอกข้อมูลสินค้าให้ครบทุกช่อง","error");return}s("save",l.value)}return(r,e)=>(m(),p("form",{onSubmit:f(g,["prevent"])},[t("div",O,[t("h3",C,k(l.value.id?"แก้ไขรายการขนม":"เพิ่มรายการขนมใหม่จากสูตรนี้"),1),t("div",D,[t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium"},"ชื่อขนม",-1)),d(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.name=a),type:"text",class:"mt-1 w-full rounded-md border p-2 dark:text-gray-600"},null,512),[[u,l.value.name]])]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium"},"มาจากสูตร",-1)),c(w($),{modelValue:l.value.recipeId,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.recipeId=a),options:i.value,placeholder:"เลือกสูตรตั้งต้น",class:"mt-1 dark:text-gray-600"},null,8,["modelValue","options"])]),t("div",I,[t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium"},"น้ำหนักต่อชิ้น (กรัม)",-1)),d(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.weight=a),type:"number",class:"mt-1 w-full rounded-md border p-2 dark:text-gray-600"},null,512),[[u,l.value.weight,void 0,{number:!0}]])]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium"},"ราคาขาย (บาท)",-1)),d(t("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.price=a),type:"number",class:"mt-1 w-full rounded-md border p-2 dark:text-gray-600"},null,512),[[u,l.value.price,void 0,{number:!0}]])])])])]),t("div",M,[t("button",{type:"button",onClick:e[4]||(e[4]=a=>s("cancel")),class:"rounded-md border bg-white px-4 py-2 dark:text-gray-600"}," ยกเลิก "),e[9]||(e[9]=t("button",{type:"submit",class:"dark:bg-primary-dark rounded-md bg-primary px-4 py-2 text-white dark:text-gray-600"}," บันทึก ",-1))])],32))}},U={class:"relative"},R={__name:"ActionMenu",setup(v){const o=b(!1);return(n,s)=>{const l=V("font-awesome-icon");return m(),p("div",U,[t("button",{onClick:s[0]||(s[0]=f(i=>o.value=!o.value,["stop"])),class:"rounded-full p-2 hover:bg-gray-200"},[c(l,{icon:"ellipsis-vertical"})]),o.value?(m(),p("div",{key:0,class:"absolute right-0 z-40 mt-2 w-[200px] rounded-md bg-white shadow-lg",onMouseleave:s[1]||(s[1]=i=>o.value=!1)},[_(n.$slots,"default")],32)):S("",!0)])}}};export{R as _,J as a};
