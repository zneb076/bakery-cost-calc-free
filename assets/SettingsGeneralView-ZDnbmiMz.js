import{e as i,j as m,c as p,a as t,l,v as n,o as b}from"./index-BAF_9aY3.js";import{d as a,S as d}from"./sweetalert2.esm.all-B80WjJMh.js";const v={class:"rounded-lg bg-white p-6 shadow-md"},f={class:"space-y-4"},c={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},k={__name:"SettingsGeneralView",setup(g){const o=i({laborCostPerHour:50,workHours:4,overheadPercent:30,defaultProfitMargin:50});m(async()=>{(await a.settings.toArray()).forEach(e=>{o.value.hasOwnProperty(e.key)&&(o.value[e.key]=e.value)})});async function u(){try{const r=Object.entries(o.value).map(([e,s])=>({key:e,value:typeof s=="number"?s:String(s)}));await a.settings.bulkPut(r),d.fire({toast:!0,position:"top-end",icon:"success",title:"บันทึกการตั้งค่าแล้ว",showConfirmButton:!1,timer:1e3})}catch(r){console.error("Failed to save settings:",r),d.fire("เกิดข้อผิดพลาด","ไม่สามารถบันทึกการตั้งค่าได้","error")}}return(r,e)=>(b(),p("div",v,[e[8]||(e[8]=t("h2",{class:"mb-4 text-2xl font-semibold"},"ตั้งค่าทั่วไป",-1)),t("div",f,[t("div",c,[t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium"},"ค่าแรง/ชม. (ค่าเริ่มต้น) (Basic mode)",-1)),l(t("input",{type:"number","onUpdate:modelValue":e[0]||(e[0]=s=>o.value.laborCostPerHour=s),class:"mt-1 w-full rounded-md border p-2"},null,512),[[n,o.value.laborCostPerHour,void 0,{number:!0}]])]),t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium"},"ชั่วโมงที่ทำ (ค่าเริ่มต้น) (Basic mode)",-1)),l(t("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=s=>o.value.workHours=s),class:"mt-1 w-full rounded-md border p-2"},null,512),[[n,o.value.workHours,void 0,{number:!0}]])]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium"},"% ทุนแฝง (ค่าเริ่มต้น) (Basic mode)",-1)),l(t("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=s=>o.value.overheadPercent=s),class:"mt-1 w-full rounded-md border p-2"},null,512),[[n,o.value.overheadPercent,void 0,{number:!0}]])]),t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium"},"% กำไรที่ต้องการ (Basic mode)",-1)),l(t("input",{type:"number","onUpdate:modelValue":e[3]||(e[3]=s=>o.value.defaultProfitMargin=s),class:"mt-1 w-full rounded-md border p-2"},null,512),[[n,o.value.defaultProfitMargin,void 0,{number:!0}]])])]),t("div",{class:"mt-4 border-t pt-4 text-right"},[t("button",{onClick:u,class:"rounded-lg bg-primary px-4 py-2 font-bold text-white"}," บันทึกการตั้งค่า ")])])]))}};export{k as default};
